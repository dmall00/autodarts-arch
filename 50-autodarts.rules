// Allow users to manage autodarts service without password
polkit.addRule(function(action, subject) {
    if ((action.id == "org.freedesktop.systemd1.manage-units" ||
         action.id == "org.freedesktop.systemd1.manage-unit-files") &&
        action.lookup("unit") == "autodarts.service") {
        if (subject.isInGroup("users")) {
            return polkit.Result.YES;
        }
    }
});

// Allow users to view autodarts logs without password
polkit.addRule(function(action, subject) {
    if (action.id == "org.freedesktop.systemd1.manage-units" &&
        action.lookup("verb") == "status" &&
        action.lookup("unit") == "autodarts.service") {
        if (subject.isInGroup("users")) {
            return polkit.Result.YES;
        }
    }
});
